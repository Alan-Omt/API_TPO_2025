# Fase de construcci贸n (build)
FROM maven:3.9.10-eclipse-temurin-17 AS build  
# Imagen con Maven y JDK 17
WORKDIR /app  
# Directorio de trabajo
COPY pom.xml .  
# Copiar archivo de dependencias
RUN mvn dependency:go-offline  
# Descargar dependencias (cache)
COPY src ./src  
# Copiar c贸digo fuente
RUN mvn package -DskipTests  
# Compilar el proyecto (sin tests)

# Fase de ejecuci贸n
FROM openjdk:17-jdk-slim  
# Imagen ligera con JDK 17
WORKDIR /app
COPY --from=build /app/target/*.jar app.jar  
# Copiar el .jar desde la fase de construcci贸n
EXPOSE 8080  
# Puerto expuesto
ENTRYPOINT ["java", "-jar", "app.jar"]  
# Comando para ejecutar la app